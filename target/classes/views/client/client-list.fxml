<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/21.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.ClientController"
            style="-fx-background-color: transparent;">

    <!-- En-tÃªte: titre + recherche -->
    <top>
        <VBox spacing="10" style="-fx-padding: 16;">
            <Label text="Gestion des clients ðŸ‘¥"
                   style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #1f2d3d;"/>
            <HBox spacing="10">
                <TextField fx:id="searchField" promptText="Rechercher par nom ou prÃ©nom"
                           onAction="#handleSearch" HBox.hgrow="ALWAYS"/>
                <Button text="Rechercher" onAction="#handleSearch"/>
                <Button text="Actualiser" onAction="#handleRefresh"/>
            </HBox>
        </VBox>
    </top>

    <!-- Tableau des clients -->
    <center>
        <TableView fx:id="clientTable" prefHeight="300">
            <BorderPane.margin>
                <Insets top="0" right="15" bottom="10" left="15"/>
            </BorderPane.margin>
            <columns>
                <TableColumn fx:id="idColumn" text="#" prefWidth="60"/>
                <TableColumn fx:id="nomColumn" text="Nom" prefWidth="140"/>
                <TableColumn fx:id="prenomColumn" text="PrÃ©nom" prefWidth="140"/>
                <TableColumn fx:id="emailColumn" text="Email" prefWidth="200"/>
                <TableColumn fx:id="telephoneColumn" text="TÃ©lÃ©phone" prefWidth="150"/>
                <TableColumn fx:id="villeColumn" text="Ville" prefWidth="160"/>
            </columns>
        </TableView>
    </center>

    <!-- Formulaire de crÃ©ation/modification -->
    <bottom>
        <VBox style="-fx-padding: 15; -fx-background-color: #f7f9fb;" spacing="12">
            <Label text="Formulaire client"
                   style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            <GridPane hgap="15" vgap="12">
                <columnConstraints>
                    <ColumnConstraints percentWidth="16"/>
                    <ColumnConstraints percentWidth="34"/>
                    <ColumnConstraints percentWidth="16"/>
                    <ColumnConstraints percentWidth="34"/>
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints />
                    <RowConstraints />
                    <RowConstraints />
                </rowConstraints>

                <Label text="Nom" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="nomField" GridPane.rowIndex="0" GridPane.columnIndex="1"
                           promptText="Nom du client"/>

                <Label text="PrÃ©nom" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                <TextField fx:id="prenomField" GridPane.rowIndex="0" GridPane.columnIndex="3"
                           promptText="PrÃ©nom du client"/>

                <Label text="Email" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <TextField fx:id="emailField" GridPane.rowIndex="1" GridPane.columnIndex="1"
                           promptText="exemple@mail.com"/>

                <Label text="TÃ©lÃ©phone" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                <TextField fx:id="telephoneField" GridPane.rowIndex="1" GridPane.columnIndex="3"
                           promptText="0600000000"/>

                <Label text="Ville" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextField fx:id="villeField" GridPane.rowIndex="2" GridPane.columnIndex="1"
                           promptText="Ville du client"/>

                <HBox spacing="10" GridPane.rowIndex="2" GridPane.columnIndex="3"
                      alignment="CENTER_RIGHT">
                    <Button text="Enregistrer" onAction="#handleSave"/>
                    <Button text="Vider" onAction="#handleClearForm"/>
                    <Button text="Supprimer" onAction="#handleDelete"
                            style="-fx-background-color: #c92a2a; -fx-text-fill: white;"/>
                </HBox>
            </GridPane>
        </VBox>
    </bottom>

</BorderPane>
